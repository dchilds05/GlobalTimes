(this.webpackJsonpglobaltimes=this.webpackJsonpglobaltimes||[]).push([[0],{144:function(e,t,c){},145:function(e,t,c){},169:function(e,t,c){"use strict";c.r(t);var n=c(16),a=c.n(n),s=c(132),r=c.n(s),o=(c(144),c(35)),i=c(47),l=(c(145),c(45)),u=c(33),j=c(51),b=c.n(j),d=b.a.create({baseURL:"".concat("https://globaltimes.herokuapp.com/api","/auth"),withCredentials:!0});function h(){return d.get("/logout").then((function(e){return e.data}))}var m=c(72);function O(){var e=2,t=document.getElementById("loginLeftDiv1");console.log("currentPhoto",t),setInterval((function(){t.id="loginLeftDiv".concat(e),8===e?e=1:e++}),3e3)}var g=c(7);function p(e){var t={username:"",password:""},c=Object(n.useState)(t),a=Object(i.a)(c,2),s=a[0],r=a[1];function u(e){var t=e.target,c=t.name,n=t.value;r(Object(o.a)(Object(o.a)({},s),{},Object(m.a)({},c,n)))}return Object(n.useEffect)((function(){O()}),[]),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"loginMamaDiv",children:[Object(g.jsx)("div",{id:"loginLeftDiv1"}),Object(g.jsx)("div",{className:"loginRightDiv",children:Object(g.jsxs)("div",{className:"loginMasterDiv",children:[Object(g.jsxs)("h1",{className:"loginHead",children:["Already have an",Object(g.jsx)("br",{})," account?"]}),Object(g.jsxs)("form",{className:"loginForm",onSubmit:function(c){c.preventDefault(),function(e,t){return d.post("/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}(s.username,s.password).then((function(c){r(t),e.setLoggedInUser(c),console.log("logged in user: ",c),e.history.push("/home")})).catch((function(e){return console.log(e)}))},children:[Object(g.jsx)("label",{children:Object(g.jsx)("input",{class:"indexInput",placeholder:"Username",type:"text",name:"username",value:s.username,onChange:u})}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{children:Object(g.jsx)("input",{class:"indexInput",placeholder:"Password",type:"password",name:"password",value:s.password,onChange:u})}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{class:"loginButton",type:"submit",children:" Login "})]}),Object(g.jsx)("br",{}),Object(g.jsx)("hr",{style:{width:"30%"}}),Object(g.jsx)("p",{className:"loginPar",children:"Don't have an account yet?"}),Object(g.jsx)("div",{className:"loginFormDiv2",children:Object(g.jsx)(l.b,{className:"signupButton",to:"/signup",style:{textDecoration:"none",color:"black"},children:" Signup"})})]})})]})})}var x=function(e){var t={username:"",password:"",country:""},c=Object(n.useState)(t),a=Object(i.a)(c,2),s=a[0],r=a[1];function u(e){var t=e.target,c=t.name,n=t.value;r(Object(o.a)(Object(o.a)({},s),{},Object(m.a)({},c,n)))}return Object(n.useEffect)((function(){O()}),[]),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"loginMamaDiv",children:[Object(g.jsx)("div",{id:"loginLeftDiv1"}),Object(g.jsx)("div",{className:"loginRightDiv",children:Object(g.jsxs)("div",{className:"loginMasterDiv",children:[Object(g.jsx)("h1",{className:"loginHead",children:"Signup"}),Object(g.jsxs)("form",{className:"loginForm",onSubmit:function(c){c.preventDefault(),function(e,t,c){return d.post("/signup",{username:e,password:t,country:c}).then((function(e){return e.data}))}(s.username,s.password,s.country).then((function(c){console.log("createdUser: ",c),r(t),e.history.push("/home")})).catch((function(e){return console.log(e)}))},children:[Object(g.jsx)("label",{children:Object(g.jsx)("input",{class:"indexInput",placeholder:"Username",type:"text",name:"username",value:s.username,onChange:u,required:!0})}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{children:Object(g.jsx)("input",{class:"indexInput",placeholder:"Password",type:"password",name:"password",value:s.password,onChange:u,required:!0})}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{children:Object(g.jsx)("input",{class:"indexInput",placeholder:"Country of residence",type:"text",name:"country",value:s.country,onChange:u,required:!0})}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{class:"loginButton",type:"submit",children:" Submit "})]}),Object(g.jsx)("br",{}),Object(g.jsx)("hr",{style:{width:"30%"}}),Object(g.jsx)("p",{className:"loginPar",children:"Already have an account?"}),Object(g.jsx)("div",{className:"loginFormDiv2",children:Object(g.jsx)(l.b,{className:"signupButton",to:"/",style:{textDecoration:"none",color:"black"},children:" Login"})})]})})]})})},v=b.a.create({baseURL:"".concat("https://globaltimes.herokuapp.com/api","/editUser"),withCredentials:!0});var f=function(e){var t=Object(n.useState)({username:"",password:"",country:""}),c=Object(i.a)(t,2),a=c[0],s=c[1];function r(e){var t=e.target,c=t.name,n=t.value;s(Object(o.a)(Object(o.a)({},a),{},Object(m.a)({},c,n)))}function l(){v.delete("/").then((function(e){return e.data})).catch((function(e){return console.log(e)})),e.setLoggedInUser(null),e.history.push("/")}return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"editMamaDiv",children:[Object(g.jsx)("div",{id:"editUserLeftDiv"}),Object(g.jsx)("div",{className:"loginRightDiv",children:Object(g.jsxs)("div",{className:"loginMasterDiv",children:[Object(g.jsx)("h1",{className:"loginHead",children:"Edit User"}),Object(g.jsxs)("form",{className:"loginForm",onSubmit:function(t){t.preventDefault(),function(e,t,c){return v.put("/",{username:e,password:t,country:c}).then((function(e){return e.data}))}(a.username,a.password,a.country).then((function(t){console.log("updatedUser: ",t),h(),e.setLoggedInUser(null),e.history.push("/")})).catch((function(e){return console.log(e)}))},children:[Object(g.jsx)("label",{children:Object(g.jsx)("input",{class:"indexInput",placeholder:e.loggedInUser.username,type:"text",name:"username",value:a.username,onChange:r,required:!0})}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{children:Object(g.jsx)("input",{class:"indexInput",placeholder:"****",type:"password",name:"password",value:a.password,onChange:r,required:!0})}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{children:Object(g.jsx)("input",{class:"indexInput",placeholder:e.loggedInUser.country,type:"text",name:"country",value:a.country,onChange:r,required:!0})}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{class:"loginButton",type:"submit",children:" Update User "})]}),Object(g.jsx)("br",{}),Object(g.jsx)("hr",{style:{width:"30%"}}),Object(g.jsx)("p",{style:{color:"red"},className:"loginPar",children:"Delete Account"}),Object(g.jsx)("div",{className:"loginFormDiv2",style:{border:"none",background:"none"},children:Object(g.jsx)("button",{style:{color:"red",border:"1px solid red"},id:"deleteButton",className:"signupButton",onClick:function(){return l()},children:" Delete Account "})})]})})]})})};function y(e){var t="";if(e.loggedInUser)for(var c=0;c<e.loggedInUser.username.length;c++)t+=0===c?e.loggedInUser.username[c].toUpperCase():e.loggedInUser.username[c];function n(){var e=document.querySelector(".rightBurgerBar");"block"===e.style.display?e.style.display="none":e.style.display="block"}function a(){var e=document.querySelector(".leftBurgerBar");"block"===e.style.display?e.style.display="none":e.style.display="block"}return Object(g.jsxs)("div",{className:"navBar",children:[Object(g.jsxs)("div",{className:"navDiv1",onMouseOver:function(){document.querySelector(".leftBurgerBar").style.display="block"},onMouseOut:function(){document.querySelector(".leftBurgerBar").style.display="none"},children:[Object(g.jsx)("img",{onClick:function(){return a()},className:"navImg1",src:"./hamburger.png",alt:"hamburger"}),Object(g.jsxs)("ul",{className:"leftBurgerBar",style:{display:"none"},children:[Object(g.jsx)(l.b,{to:"/home",style:{textDecoration:"none",color:"black"},children:Object(g.jsx)("li",{onClick:function(){return a()},children:"Home"})}),Object(g.jsx)(l.b,{to:"/savedArticles",style:{textDecoration:"none",color:"black"},children:Object(g.jsx)("li",{onClick:function(){return a()},children:"My Saved Articles"})}),Object(g.jsx)(l.b,{to:"/Africa",style:{textDecoration:"none",color:"black"},children:Object(g.jsx)("li",{onClick:function(){return a()},children:"Africa"})}),Object(g.jsx)(l.b,{to:"/Asia",style:{textDecoration:"none",color:"black"},children:Object(g.jsx)("li",{onClick:function(){return a()},children:"Asia"})}),Object(g.jsx)(l.b,{to:"/Europe",style:{textDecoration:"none",color:"black"},children:Object(g.jsx)("li",{onClick:function(){return a()},children:"Europe"})}),Object(g.jsx)(l.b,{to:"/North%20America",style:{textDecoration:"none",color:"black"},children:Object(g.jsx)("li",{onClick:function(){return a()},children:"North America"})}),Object(g.jsx)(l.b,{to:"/South%20America",style:{textDecoration:"none",color:"black"},children:Object(g.jsx)("li",{onClick:function(){return a()},children:"South America"})})]})]}),Object(g.jsx)("div",{className:"navDiv2",children:Object(g.jsx)(l.b,{to:"/home",children:Object(g.jsx)("img",{className:"logo",src:"./logo.png",alt:"logo"})})}),Object(g.jsxs)("div",{className:"navDiv3",onMouseOver:function(){document.querySelector(".rightBurgerBar").style.display="block"},onMouseOut:function(){document.querySelector(".rightBurgerBar").style.display="none"},children:[Object(g.jsx)("img",{onClick:function(){return n()},className:"navImg2",src:"./userPhoto.png",alt:"user"}),Object(g.jsx)("div",{className:"navRightSmallDiv",children:e.loggedInUser&&Object(g.jsx)("p",{className:"navPar",children:t})}),Object(g.jsxs)("ul",{className:"rightBurgerBar",style:{display:"none"},children:[Object(g.jsx)(l.b,{to:"/editUser",style:{textDecoration:"none",color:"black"},children:Object(g.jsx)("li",{onClick:function(){return n()},children:"Edit Account Details"})}),Object(g.jsx)("li",{onClick:function(){h().then((function(t){console.log(t.message),n(),e.setLoggedInUser(null)}))},children:"Logout"})]})]})]})}var N=c(116),D=c(91),k=c(135);function C(e){var t="",c="";return"01"==="".concat(e[5]).concat(e[6])&&(c+="January"),"02"==="".concat(e[5]).concat(e[6])&&(c+="February"),"03"==="".concat(e[5]).concat(e[6])&&(c+="March"),"04"==="".concat(e[5]).concat(e[6])&&(c+="April"),"05"==="".concat(e[5]).concat(e[6])&&(c+="May"),"06"==="".concat(e[5]).concat(e[6])&&(c+="June"),"07"==="".concat(e[5]).concat(e[6])&&(c+="July"),"08"==="".concat(e[5]).concat(e[6])&&(c+="August"),"09"==="".concat(e[5]).concat(e[6])&&(c+="September"),"10"==="".concat(e[5]).concat(e[6])&&(c+="October"),"11"==="".concat(e[5]).concat(e[6])&&(c+="November"),"12"==="".concat(e[5]).concat(e[6])&&(c+="December"),t+="".concat(c," ").concat(e[8]).concat(e[9],", ").concat(e[0]).concat(e[1]).concat(e[2]).concat(e[3])}function w(e){var t=document.querySelector(".black".concat(e)),c=document.querySelector(".blue".concat(e));"inline"===t.style.display?(t.style.display="none",c.style.display="inline"):(t.style.display="inline",c.style.display="none")}var S=b.a.create({baseURL:"".concat("https://globaltimes.herokuapp.com/api","/savedArticles"),withCredentials:!0});function _(e){return e.array.map((function(e){var t=C(e.pub_date),c=e.web_url.replace(/[ ,./:+=?;&-]/g,"");return Object(g.jsxs)("div",{className:"articleDiv",children:[Object(g.jsxs)("a",{href:"".concat(e.web_url),style:{textDecoration:"none",color:"black"},rel:"noreferrer",target:"_blank",children:[e.headline.main&&Object(g.jsx)("h1",{className:"articleHead",children:e.headline.main}),e.multimedia[0]?Object(g.jsx)("img",{className:"articleImage",src:"https://static01.nyt.com/".concat(e.multimedia[0].url),alt:"nothing"}):Object(g.jsx)("img",{className:"articleImage",src:"/noPhoto.jpeg",alt:"noImage"}),Object(g.jsx)("h2",{className:"articleAbstractHead",children:"Abstract"}),e.abstract&&Object(g.jsxs)("p",{className:"articleAbstract",children:[e.abstract.substring(0,250),"..."]}),Object(g.jsxs)("div",{className:"articleFooter",children:[e.section_name&&Object(g.jsxs)("p",{className:"articleCategory",children:["Category: ",e.section_name]}),e.pub_date&&Object(g.jsxs)("p",{className:"articlePubDate",children:["Publication Date: ",t]})]})]}),Object(g.jsx)("button",{className:"black".concat(c," blackButton"),onClick:function(){return function(e,t){return console.log("save article clicked"),w(t),S.put("/",{abstract:e.abstract,headline:e.headline.main,multimedia:e.multimedia[0].url,pub_date:e.pub_date,section_name:e.section_name,web_url:e.web_url}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}(e,c)},children:"Save to favorites!"}),Object(g.jsx)("button",{className:"blue".concat(c," blueButton"),onClick:function(){return function(e,t){return console.log("delete article clicked"),w(t),S.put("/removeFavorite",{web_url:e.web_url}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}(e,c)},children:"Saved!"})]},e._id)}))}var A=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://globaltimes.herokuapp.com/api"}).APIKEY||"zIAVHGhXDlbB9bHGAkgmKitNUXY7VAn7";function I(e){Object(n.useEffect)((function(){var t=N.b("chartDiv",D.b);t.geodata=k.a,t.projection=new D.e.Orthographic;var c=t.series.push(new D.c);c.useGeodata=!0;var n=c.mapPolygons.template;n.events.on("hit",(function(t){t.target.series.chart.zoomToMapObject(t.target),setTimeout((function(){e.history.push("/".concat(t.target.dataItem.dataContext.name))}),750)})),n.tooltipText="{name}",n.fill=N.a("#74B266"),n.states.create("hover").properties.fill=N.a("#367B25"),t.zoomControl=new D.d,t.zoomControl.slider.height=100,t.deltaLongitude=0,t.deltaLatitude=-30,t.series.push(new D.a).toBack(),t.panBehavior="rotateLongLat"}),[]);var t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],s=c[1],r=e.loggedInUser.country,o=r.toLowerCase();return Object(n.useEffect)((function(){b.a.get("https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(o,"&fq=glocations:(").concat(o,")&page=1&sort=newest&api-key=").concat(A)).then((function(e){s(e.data.response.docs)})).catch((function(e){return console.log(e)}))}),[]),Object(g.jsxs)("div",{className:"homeMamaDiv",children:[Object(g.jsxs)("div",{className:"homeLeftDiv",children:[Object(g.jsxs)("h3",{children:["NEWS FROM ",r.toUpperCase()]}),Object(g.jsx)("div",{className:"scrollBar",children:a&&Object(g.jsx)(_,{array:a})})]}),Object(g.jsxs)("div",{className:"homeRightDiv",children:[Object(g.jsx)("h1",{children:"Search news from around the world!"}),Object(g.jsx)("div",{id:"chartDiv"}),Object(g.jsx)("h2",{className:"homeH2",children:"Browse the New York Times database for recent articles from your country of choice"})]})]})}var U=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://globaltimes.herokuapp.com/api"}).APIKEY||"zIAVHGhXDlbB9bHGAkgmKitNUXY7VAn7";function B(e){var t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),l=o[0],u=o[1],j=e.match.params.name,d=j.toLowerCase();return Object(n.useEffect)((function(){b.a.get("https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(d,"&fq=glocations:(").concat(d,")&page=1&sort=newest&api-key=").concat(U)).then((function(e){s(e.data.response.docs)})).catch((function(e){return console.log(e)}))}),[j]),Object(n.useEffect)((function(){b.a.get("https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(d,"&fq=glocations:(").concat(d,")&page=2&sort=newest&api-key=").concat(U)).then((function(e){u(e.data.response.docs)})).catch((function(e){return console.log(e)}))}),[j]),Object(g.jsxs)("div",{className:"countryMamaDiv",children:[Object(g.jsx)("div",{className:"countryChildDivLeft",children:a&&Object(g.jsx)(_,{array:a})}),Object(g.jsx)("div",{className:"countryChildDivRight",children:l&&Object(g.jsx)(_,{array:l})})]})}function L(){var e=Object(n.useState)({username:"",password:"",country:"",savedArticles:[]}),t=Object(i.a)(e,2),c=t[0],a=t[1],s=b.a.create({baseURL:"".concat("https://globaltimes.herokuapp.com/api","/savedArticles"),withCredentials:!0});function r(){return s.get("/popUser").then((function(e){a(e.data)})).catch((function(e){return console.log(e)}))}Object(n.useEffect)((function(){r()}),[]);var o=b.a.create({baseURL:"".concat("https://globaltimes.herokuapp.com/api","/savedArticles"),withCredentials:!0});return c.savedArticles.map((function(e){var t=C(e.pub_date);return Object(g.jsxs)("div",{className:"savedDiv",children:[Object(g.jsxs)("a",{href:"".concat(e.web_url),style:{textDecoration:"none",color:"black"},rel:"noreferrer",target:"_blank",children:[e.headline&&Object(g.jsx)("h1",{className:"articleHead",children:e.headline}),e.multimedia?Object(g.jsx)("img",{className:"articleImage",src:"https://static01.nyt.com/".concat(e.multimedia),alt:"nothing"}):Object(g.jsx)("img",{className:"articleImage",src:"/noPhoto.jpeg",alt:"noImage"}),Object(g.jsx)("h2",{className:"articleAbstractHead",children:"Abstract"}),e.abstract&&Object(g.jsxs)("p",{className:"articleAbstract",children:[e.abstract.substring(0,250),"..."]}),Object(g.jsxs)("div",{className:"articleFooter",children:[e.section_name&&Object(g.jsxs)("p",{className:"articleCategory",children:["Category: ",e.section_name]}),e.pub_date&&Object(g.jsxs)("p",{className:"articlePubDate",children:["Publication Date: ",t]})]})]}),Object(g.jsx)("button",{className:"redButton",onClick:function(){return function(e){return console.log("remove article clicked"),o.put("/removeFavorite",{web_url:e.web_url}).then((function(e){r()})).catch((function(e){return console.log(e)}))}(e)},children:"Remove"})]},e._id)}))}var E=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){d.get("/isloggedin").then((function(e){return e.data})).then((function(e){e._id&&a(e)}))}),[]),Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(l.a,{children:[Object(g.jsx)(y,{loggedInUser:c,setLoggedInUser:a}),Object(g.jsxs)(u.d,{children:[Object(g.jsx)(u.b,{exact:!0,path:"/signup",render:function(e){return c?Object(g.jsx)(u.a,{to:"/home"}):Object(g.jsx)(x,Object(o.a)(Object(o.a)({},e),{},{setLoggedInUser:a}))}}),Object(g.jsx)(u.b,{exact:!0,path:"/home",render:function(e){return c?Object(g.jsx)(I,Object(o.a)(Object(o.a)({},e),{},{loggedInUser:c})):Object(g.jsx)(u.a,{to:"/"})}}),Object(g.jsx)(u.b,{exact:!0,path:"/editUser",render:function(e){return c?Object(g.jsx)(f,Object(o.a)(Object(o.a)({},e),{},{loggedInUser:c,setLoggedInUser:a})):Object(g.jsx)(u.a,{to:"/"})}}),Object(g.jsx)(u.b,{exact:!0,path:"/savedArticles",render:function(e){return c?Object(g.jsx)(L,Object(o.a)({},e)):Object(g.jsx)(u.a,{to:"/"})}}),Object(g.jsx)(u.b,{exact:!0,path:"/:name",render:function(e){return c?Object(g.jsx)(B,Object(o.a)({},e)):Object(g.jsx)(u.a,{to:"/"})}}),Object(g.jsx)(u.b,{exact:!0,path:"/",render:function(e){return c?Object(g.jsx)(u.a,{to:"/home"}):Object(g.jsx)(p,Object(o.a)(Object(o.a)({},e),{},{setLoggedInUser:a}))}})]})]})})},P=function(e){e&&e instanceof Function&&c.e(7).then(c.bind(null,374)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(E,{})}),document.getElementById("root")),P()}},[[169,1,4]]]);
//# sourceMappingURL=main.81dec365.chunk.js.map